pico-8 cartridge // http://www.pico-8.com
version 43
__lua__
#include paddle.lua
#include bricks.lua
#include Main_Menu.lua

-- raw color values
-- black = 0
-- dark_blue = 1
-- dark_purple = 2
-- dark_green = 3
-- brown = 4
-- dark_gray = 5
-- light_gray = 6
-- white = 7
-- red = 8
-- orange = 9
-- yellow = 10
-- green = 11
-- blue = 12
-- indigo = 13
-- pink = 14
-- peach = 15

-- worth noting: any code that needs to be run in these two functions (update60 and draw) have to be called in the main p8 file
-- otherwise things break

function _update60()
    Update_Menu()
    Update_Game() 
    brickMove(paddle)   
    paddleMove()
    
    if frameCount % 180 == 1 then
        spawnBrickWave()
    end
    frameCount += 1 
end

function _init()
    scene = "Menu"
end

function _draw() 
    if scene == "Menu"
        then
        Draw_Menu()
    end

    -- clears screen and sets background color
    if scene == "Game"
        then 
            cls(5)

            -- print paddle coordinates
            print("paddle coords", 8, 10, 7)
            print(paddle.x, 8, 18, 7)
            print(paddle.y, 8, 26, 7)
            -- message to confirm bricks.lua is working
            print("brick.lua working", 8, 34, 7)
            
            -- draw player sprites
            -- offset them so they center on the paddle's pivot point
            spr(paddle.spr1, paddle.x - 12, paddle.y - 4)
            spr(paddle.spr2, paddle.x - 4, paddle.y - 4)
            spr(paddle.spr3, paddle.x + 4, paddle.y - 4)
            
            -- draw ball sprite
            -- offset to center on pivot point, same as player sprites
            spr(ball.spr, ball.x - 4, ball.y - 4)

            -- draw bricks
            drawBricks()
    end
end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000dddddd0dddddddd0dddddd000aaaa000dddddddddddddd0000000000000000000000000000000000000000000000000000000000000000000000000
00700700d666666d66666666d666666d0a77aaa0d66666666666666d000000000000000000000000000000000000000000000000000000000000000000000000
00077000d666666d66666666d666666d0a7aaaa0d66666666666666d000000000000000000000000000000000000000000000000000000000000000000000000
00077000d666666d66666666d666666d0aaaa9a0d66666666666666d000000000000000000000000000000000000000000000000000000000000000000000000
00700700d666666d66666666d666666d0aaa99a0d66666666666666d000000000000000000000000000000000000000000000000000000000000000000000000
000000000dddddd0dddddddd0dddddd000aaaa000dddddddddddddd0000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
05090020000500e00000000000520005200000000000305218620136200400000000000520005200050030500005003000040000005200052177000c0000c000196201962013000130001e6201e6200e00000000
05090020000500e00000000000520005200000000000305218620136200400000000000520005200050030500005003000040000005200052000000c0000c000196201962013000130001300010000130000e000
010900200c5401c50012500125400c5402350011500115001154011540115400f540115401154011540135400c5400c5402450000500005002b5002b5002d5001f500215001f5000050024500285002450000000
0109002013124131211312013120161201810018100181241812218122181221812013120131201312011120131201312013120121200f1200f1200f1000c1000c1240c1200c1200c1200e1210f1220f1220f122
010900001312413120001001310013120131200010016124131201312013120181000c1200c1200f1201212112121131201312013120131201312013120111201112500100001000010000100001000010000100
010900001b1211b1211b1261b1271d125001000010018124181221812218122181221312113120121200f1201312013120121200e120111211112111120111201d1211d1201d1201d1201b1211b1211b1201b120
01090000181241812018100161001612116121161211812018122181221812212120111201112011120131200c1200c1200c1200c125000000000000000000000000000000000000000000000000000000000000
010900200c5401c50012500125400c5402350011500115001154011540115400f540115401154011540135400c5400c5402450000500005002b5002b5002d5000a5400a5400a5400a5400e5400e5400e5400e540
490900000070000700007000070000700007000070000700007000070000700007000070000700007000070000700007000070000700007000070000700007001f5241f5211f5211b5201e5201e5221e52222522
490900002451424510245102451018510185101851024510245102451024515155000c5000c5000c5000050022512225122251222512185141851018512225122251222512225122251222511215112151221512
490900001f5141f5101f5101f5001d5111d5111f5001f5001f5101f5101f5101d5100000000000000001f5121f5121f5121f5101f5101f5101250000000000000000000000000000000000000000000000000000
010900001b1211b1211b1261b1271d125001000010018100181221812218122181221312113120121200f1201312013120121200e120111211112111120111201f1211f1201f1201f1201b1211b1211b1201b120
490900001d5141d5101d5101d5101b5101b5101b5101b5101f5101f5101f5101f5101d5101d5101d5211f5221f5221f5221f522205201f5101f5101f510205112251122510225102251029524295222952229520
490900002b5202b5202b5202a5202952029520295202a520275102751027510245100000000000245212452124520245202452300000000000000000000000000000000000000000000000000000000000000000
01090000187201872018720007000c7200c7200c7000c7200c7200070000700007000f7000f7000f7000070013700137001370011700137001370013700007000070000700007000070000700007000070000700
010900200c5401c50012500125001254012540125400c5401150011500115000f50011500115000c500245000c5401c50012500125000f5400f5400f5400c5400050028500245002850024500000000000000000
010900200c5401c50012500125001154011540115400c5401150011500115000f50011500115000c500245000c5401c50012500125000a5400a5400a5400c540005002850024500285000c5400c5400c5400f540
650900200c0001c00012000120001200012000120000c000240222402224022240222402224022240222402222022220222202222022220222202222022220221b0221b0221b0221b0221b0221b0221b0221b022
650900001e0221f0221f0221f0221e0221e0221f0211f0211f0201f0201f0201f02022021220202202222022220222202222022220221f0221f0221f0201b0201e0201e0201e0201f0201e0221e0221e0221f022
6509000018022180221802218022180001b0001f0001f000130221302213022130222000020000200001d0000c0220c0220c0220c0221f0001f0001f0001b0001e0001e0001e0001f0001e0001e0001e0001f000
0d06000000120002000c120001000c1200c1000c1201850000640106400c125131000c120141000c1201750000120001000c120181000c120161000c120000000c640106400c125000000c1201b5000c1201f500
0d06000000120002000c120001000c1200c1000c1201850000640106400c125131000c120141000c6400c6400c630001000c120181000c6400c64000120041200c640106400c12500000031201b500031201f500
0d0600000c3300e3000c3000e30011300113000c330003000c30011300113000c3000c3300c3300c3000e300073000c300003000c300003000030007300003000730000300003000030005330053301130011300
050600000c0340c0300c0300c0320c0320c0320c0320c0350c0300c0300c0300c0300c0300c0300c0300c0300c0340c0300c0300c0320c0320c0320c0320c0350c0300c0300c0300c0300c0300c0300c0300c030
500c00001f21006200212001821007200062001f2101e200182101820018212182001f21020210232100c2101821000200002001f21000200162001e210002001f210002001f21000200182101b2001b2101f200
__music__
01 01020344
00 01020444
00 01020544
00 00070608
00 01020309
00 0102040a
00 01020b0c
00 0002060d
00 010f0e11
00 00100e12
00 010f0e11
00 000f0e13
00 010f0e11
00 00100e12
00 010f0e11
00 000f0e13
00 01024344
00 01024344
00 01024344
02 01024344
00 14181716
00 14165644
00 14181744
00 15164344


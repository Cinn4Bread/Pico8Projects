pico-8 cartridge // http://www.pico-8.com
version 43
__lua__
#include paddle.lua
#include bricks.lua

-- raw color values
-- black = 0
-- dark_blue = 1
-- dark_purple = 2
-- dark_green = 3
-- brown = 4
-- dark_gray = 5
-- light_gray = 6
-- white = 7
-- red = 8
-- orange = 9
-- yellow = 10
-- green = 11
-- blue = 12
-- indigo = 13
-- pink = 14
-- peach = 15

-- worth noting: any code that needs to be run in these two functions (update60 and draw) have to be called in the main p8 file
-- otherwise things break

function _update60() 
    updateBricks()
    paddleMove()
    
    if frameCount % 180 == 1 then
        spawnBrickWave()
    end
    frameCount += 1 
end

function _draw() 
    -- clears screen and sets background color
    cls(5)

    -- print paddle coordinates
    print("paddle coords", 8, 10, 7)
    print(paddle.x, 8, 18, 7)
    print(paddle.y, 8, 26, 7)
    -- message to confirm bricks.lua is working
    print("brick.lua working", 8, 34, 7)
    
    -- draw player sprites
    -- offset them so they center on the paddle's pivot point
    spr(paddle.spr1, paddle.x - 12, paddle.y - 4)
    spr(paddle.spr2, paddle.x - 4, paddle.y - 4)
    spr(paddle.spr3, paddle.x + 4, paddle.y - 4)
    
    -- draw ball sprite
    -- offset to center on pivot point, same as player sprites
    spr(ball.spr, ball.x - 4, ball.y - 4)

    -- draw "bricks"
    drawBricks()
end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000dddddd0dddddddd0dddddd000aaaa000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700d666666d66666666d666666d0a77aaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000d777777d77777777d777777d0a7aaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000d777777d77777777d777777d0aaaa9a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700d666666d66666666d666666d0aaa99a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000dddddd0dddddddd0dddddd000aaaa000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
05090020000500e00000000000520005200000000000305218620136200400000000000520005200050030500005003000040000005200052000000c0000c000196201962013000130001e6201e620130000e000
05090020000500e00000000000520005200000000000305218620136200400000000000520005200050030500005003000040000005200052000000c0000c000196201962013000130001300010000130000e000
010900200c5201c50012500125200c5202350011500115001152011520115200f520115201152011520135200c5200c5202450000500005002b5002b5002d5001f500215001f5000050028500245002850024500
0109002013124131211312013120161201810018100181241812218122181221812013120131201312011120131201312013120121200f1200f1200f1000c1000c1240c1200c1200c1200e1210f1220f1220f122
010900001312413120001001310013120131200010016124131201312013120181000c1200c1200f1201212112121131201312013120131201312013120111201112500100001000010000100001000010000100
010900001b1211b1211b1261b1271d125001000010018124181221812218122181221312113120121200f1201312013120121200e120111211112111120111201d1211d1201d1201d1201b1211b1211b1201b120
01090000181241812018100161001612116121161211812018122181221812212120111201112011120131200c1200c1200c1200c125000000000000000000000000000000000000000000000000000000000000
010900200c5201c50012500125200c5202350011500115001152011520115200f520115201152011520135200c5200c5202450000500005002b5002b5002d5000a5200a5200a5200a5200e5200e5200e5200e520
490900000070000700007000070000700007000070000700007000070000700007000070000700007000070000700007000070000700007000070000700007001f5241f5211f5211b5201e5201e5221e52222522
4909000024514245102451024510185101851018510245102451024510245150c5000c5000c5000c5000050022512225122251222512185141851018512225122251222512225122251222511215112151221512
490900001f5141f5101f5101f5001d5111d5111f5001f5001f5101f5101f5101d5100000000000000001f5121f5121f5121f5101f5101f5101f51000000000000000000000000000000000000000000000000000
010900001b1211b1211b1261b1271d125001000010018100181221812218122181221312113120121200f1201312013120121200e120111211112111120111201f1211f1201f1201f1201b1211b1211b1201b120
490900001d5141d5101d5101d5101b5101b5101b5101b5101f5101f5101f5101f5101d5101d5101d5211f5221f5221f5221f522205201f5101f5101f510205112251122510225102251029524295222952229520
490900002b5202b5202b5202a5202952029520295202a520275102751027510245100000000000245212452124520245202452300000000000000000000000000000000000000000000000000000000000000000
010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
011000000c7520c7020c75211752117501175011750117500875007750027500375014750047500675007750097500a7500c750117500e7500d7500d7500d750287500c7500c7500c700067000c750057000c750
010c0000001200d1000c100001200e6201c100001200d100001200d1000c100001200e6201c100001200d100001200d1000c100001200e6211c100001200d100001200d1000e620001200c61010400001200d100
090c00000c030000000c0000c03011000110000c03000000110301103011030110300e0300e0300f0300e0300c0300c030000000c03000000000000a030000000c03000000000000000000000000000000000000
010c0000185001b5001c500205001f5001f5001f5001f5001f5001f5001c5001b5001b5001b5001b5001b5001c5001c5001c5001c5001850000500185001850018500185001650016500185201b500165201f500
000c0000001000010000100001000010000100001000010000100001000010000100001000010000100001000010000100001000010000100001000010000100001000010000100001000c110131000c1100c100
010c000018550000001b5001b510125000000018510185001351013511135121351210510145101551017510185100000000000185100000016500165100000018510000000000000000185201b5001b5201f500
010c00001d550040001f5001d510195001b5101d5101c5001b5101b5101b5101b5101a5101b5101d5101b51018510000000000018510000000000018510000000000000000185100000018510000000000000000
090c00000c030000000c0000c03011000110000c030000000c03011000110000c0300e0000e0000f0300e0000c0300c000000000c03000000000000a03000000070300000000000000000e0000f0101100011010
090c00001303008000130001303018000180001303000000110301600016000110300e0000e0000f0300e0000c0300c000000000c03000000000000a030000000c03000000000000000005010040100201000010
500c00001f21006200212001821007200062001f2101e200182101820018212182001f21020210232100c2101821000200002001f21000200162001e210002001f210002001f21000200182101b2001b2101f200
__music__
01 01020344
00 01020444
00 01020544
00 00070608
00 01020309
00 0102040a
00 01020b0c
00 0002060d
00 01024744
02 00024344
01 02034444
00 02030405
00 0208060a
00 02090744
02 41424344

